<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Group Detail</title>-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->

<!--    <link rel="icon" type="image/jpeg" href="/images/Personal_Task_Manager.jpeg">-->

<!--    <style>-->
<!--        *{box-sizing:border-box;}-->
<!--        body{-->
<!--            margin:0;-->
<!--            font-family: Arial, sans-serif;-->
<!--            min-height:100vh;-->
<!--            background: url("/images/background.jpeg") no-repeat center/cover;-->
<!--            background-attachment: fixed;-->
<!--        }-->

<!--        .overlay{-->
<!--            min-height:100vh;-->
<!--            background: rgba(0,0,0,0.55);-->
<!--            padding: 28px;-->
<!--        }-->

<!--        .topbar{-->
<!--            display:flex;-->
<!--            justify-content:space-between;-->
<!--            align-items:center;-->
<!--            padding: 18px 22px;-->
<!--            border-radius: 14px;-->
<!--            background: rgba(255,255,255,0.15);-->
<!--            backdrop-filter: blur(6px);-->
<!--            color:white;-->
<!--            box-shadow: 0 8px 18px rgba(0,0,0,0.25);-->
<!--        }-->

<!--        .title h1{-->
<!--            margin:0;-->
<!--            font-size:22px;-->
<!--            letter-spacing:0.4px;-->
<!--        }-->
<!--        .title p{-->
<!--            margin:6px 0 0 0;-->
<!--            font-size:12px;-->
<!--            opacity:0.9;-->
<!--        }-->

<!--        .btn{-->
<!--            border:none;-->
<!--            cursor:pointer;-->
<!--            padding:10px 14px;-->
<!--            border-radius:10px;-->
<!--            font-size:14px;-->
<!--            font-weight:600;-->
<!--            transition:0.2s;-->
<!--            text-decoration:none;-->
<!--            display:inline-block;-->
<!--        }-->
<!--        .btn:hover{transform:translateY(-1px);}-->

<!--        .btn-primary{background:#007bff;color:white;}-->
<!--        .btn-success{background:#28a745;color:white;}-->
<!--        .btn-dark{background:#343a40;color:white;}-->
<!--        .btn-warning{background:#ff9800;color:white;}-->

<!--        .container{-->
<!--            margin-top:22px;-->
<!--            display:grid;-->
<!--            grid-template-columns: 0.9fr 1.1fr;-->
<!--            gap:18px;-->
<!--        }-->

<!--        .card{-->
<!--            background: rgba(255,255,255,0.95);-->
<!--            border-radius:16px;-->
<!--            padding:20px;-->
<!--            box-shadow: 0 10px 20px rgba(0,0,0,0.18);-->
<!--        }-->

<!--        .card h2{-->
<!--            margin:0 0 10px 0;-->
<!--            font-size:18px;-->
<!--            color:#222;-->
<!--        }-->

<!--        .muted{-->
<!--            margin:0;-->
<!--            color:#666;-->
<!--            font-size:13px;-->
<!--            line-height:1.5;-->
<!--        }-->

<!--        .actions{-->
<!--            margin-top:14px;-->
<!--            display:flex;-->
<!--            flex-wrap:wrap;-->
<!--            gap:10px;-->
<!--        }-->

<!--        .list{-->
<!--            margin-top:14px;-->
<!--            display:flex;-->
<!--            flex-direction:column;-->
<!--            gap:10px;-->
<!--        }-->

<!--        .item{-->
<!--            background:#f7f8fb;-->
<!--            border:1px solid #e7e7e7;-->
<!--            border-radius:14px;-->
<!--            padding:14px;-->
<!--            display:flex;-->
<!--            justify-content:space-between;-->
<!--            align-items:flex-start;-->
<!--            gap:12px;-->
<!--        }-->

<!--        .item-title{-->
<!--            font-weight:800;-->
<!--            color:#222;-->
<!--            margin:0;-->
<!--            font-size:15px;-->
<!--        }-->

<!--        .item-sub{-->
<!--            margin:6px 0 0 0;-->
<!--            font-size:12px;-->
<!--            color:#666;-->
<!--        }-->

<!--        .badge{-->
<!--            padding:6px 10px;-->
<!--            border-radius:999px;-->
<!--            font-size:12px;-->
<!--            font-weight:700;-->
<!--            white-space:nowrap;-->
<!--        }-->

<!--        .badge-blue{background:#e7f1ff;color:#0b5ed7;}-->
<!--        .badge-green{background:#e9f7ef;color:#198754;}-->
<!--        .badge-orange{background:#fff3e0;color:#ff9800;}-->

<!--        .empty{-->
<!--            margin-top:10px;-->
<!--            padding:14px;-->
<!--            background:#f7f8fb;-->
<!--            border:1px dashed #d7d7d7;-->
<!--            border-radius:14px;-->
<!--            color:#777;-->
<!--            font-size:13px;-->
<!--        }-->

<!--        @media(max-width: 980px){-->
<!--            .container{grid-template-columns: 1fr;}-->
<!--        }-->
<!--    </style>-->
<!--</head>-->

<!--<body>-->
<!--<div class="overlay">-->


<!--    <div class="topbar">-->
<!--        <div class="title">-->
<!--            <h1>üìå {{ group.name }}</h1>-->
<!--            <p>Manage participants, add expenses, and check equal split balances</p>-->
<!--        </div>-->
<!--        <div>-->
<!--            <a class="btn btn-dark" href="/frontend/groups">‚Üê Back</a>-->
<!--            <a class="btn btn-primary" href="/frontend/dashboard">Dashboard</a>-->
<!--        </div>-->
<!--    </div>-->

<!--    <div class="container">-->


<!--        <div class="card">-->
<!--            <h2>üë• Participants</h2>-->
<!--            <p class="muted">-->
<!--                Add members manually. They do not need to sign up.-->
<!--            </p>-->

<!--            <div class="actions">-->
<!--                <a class="btn btn-success" href="/frontend/groups/{{ group.id }}/add-participant">-->
<!--                    ‚ûï Add Participant-->
<!--                </a>-->
<!--            </div>-->

<!--            <div class="list">-->
<!--                {% if participants %}-->
<!--                    {% for p in participants %}-->
<!--                        <div class="item">-->
<!--                            <div>-->
<!--                                <p class="item-title">{{ p.name }}</p>-->
<!--                                {% if p.email %}-->
<!--                                    <p class="item-sub">{{ p.email }}</p>-->
<!--                                {% else %}-->
<!--                                    <p class="item-sub">No email provided</p>-->
<!--                                {% endif %}-->
<!--                            </div>-->
<!--                            <span class="badge badge-blue">ID: {{ p.id }}</span>-->
<!--                        </div>-->
<!--                    {% endfor %}-->
<!--                {% else %}-->
<!--                    <div class="empty">No participants yet. Add your first participant ‚úÖ</div>-->
<!--                {% endif %}-->
<!--            </div>-->
<!--        </div>-->


<!--        <div class="card">-->
<!--            <h2>üí∏ Expenses</h2>-->
<!--            <p class="muted">-->
<!--                Add expenses and select who paid. Equal split will be calculated automatically.-->
<!--            </p>-->

<!--            <div class="actions">-->
<!--                <a class="btn btn-warning" href="/frontend/groups/{{ group.id }}/add-expense">-->
<!--                    ‚ûï Add Expense-->
<!--                </a>-->
<!--                <a class="btn btn-primary" href="/frontend/split/{{ group.id }}">-->
<!--                    üìä View Equal Split-->
<!--                </a>-->
<!--            </div>-->

<!--            <div class="list">-->
<!--                {% if expenses %}-->
<!--                    {% for e in expenses %}-->
<!--                        <div class="item">-->
<!--                            <div>-->
<!--                                <p class="item-title">{{ e.title }}</p>-->
<!--                                <p class="item-sub">-->
<!--                                    Amount: <strong>{{ e.amount }}</strong>-->
<!--                                </p>-->
<!--                            </div>-->
<!--                            <span class="badge badge-green">Paid By ID: {{ e.paid_by_id }}</span>-->
<!--                        </div>-->
<!--                    {% endfor %}-->
<!--                {% else %}-->
<!--                    <div class="empty">No expenses yet. Add your first expense ‚úÖ</div>-->
<!--                {% endif %}-->
<!--            </div>-->

<!--        </div>-->

<!--    </div>-->

<!--</div>-->
<!--</body>-->
<!--</html>-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Group Detail</title>

    <link rel="icon" type="image/jpeg" href="/images/Personal_Task_Manager.jpeg">

    <style>
        body{
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            background: url("/images/background.jpeg") no-repeat center center/cover;
            background-attachment: fixed;
        }

        .overlay{
            min-height: 100vh;
            background: rgba(0,0,0,0.45);
            padding: 30px 15px;
        }

        .container{
            max-width: 1000px;
            margin: auto;
        }

        .card{
            background: rgba(255,255,255,0.95);
            border-radius: 12px;
            padding: 22px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.2);
            margin-bottom: 18px;
        }

        .header{
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        h1{
            margin: 0;
            font-size: 26px;
            color: #222;
        }

        .subtitle{
            margin-top: 6px;
            color: #555;
        }

        .btn-row{
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .btn{
            display: inline-block;
            padding: 10px 14px;
            border-radius: 8px;
            text-decoration: none;
            color: white;
            font-weight: 600;
            border: none;
            cursor: pointer;
            font-size: 14px;
        }

        .btn-primary{ background: #007bff; }
        .btn-success{ background: #28a745; }
        .btn-dark{ background: #343a40; }

        .btn:hover{
            opacity: 0.9;
        }

        .section-title{
            margin: 0 0 10px;
            font-size: 18px;
            color: #222;
        }

        .grid{
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 18px;
        }

        @media(max-width: 800px){
            .grid{
                grid-template-columns: 1fr;
            }
        }

        .list{
            margin: 0;
            padding: 0;
            list-style: none;
        }

        .item{
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 10px;
            margin-bottom: 10px;
            background: #fff;
        }

        .muted{
            color: #666;
            font-size: 14px;
        }

        .expense-row{
            display: flex;
            justify-content: space-between;
            gap: 10px;
            flex-wrap: wrap;
        }

        .amount{
            font-weight: bold;
            color: #007bff;
        }

        .info{
            background: #f7f7f7;
            border: 1px dashed #ccc;
            padding: 12px;
            border-radius: 10px;
            margin-top: 12px;
        }
    </style>
</head>

<body>
<div class="overlay">
    <div class="container">

        <!-- Top Group Card -->
        <div class="card">
            <div class="header">
                <div>
                    <h1>üë• Group: {{ group.name }}</h1>
                    <div class="subtitle">Manage participants & split expenses equally.</div>
                </div>

                <div class="btn-row">
                    <a class="btn btn-success" href="/frontend/groups/{{ group.id }}/add-participant">
                        ‚ûï Add Participant
                    </a>

                    <a class="btn btn-primary" href="/frontend/groups/{{ group.id }}/add-expense">
                        üí∞ Add Expense
                    </a>

                    <a class="btn btn-dark" href="/frontend/groups">
                        ‚¨Ö Back to Groups
                    </a>
                </div>
            </div>

            <div class="info">
                ‚úÖ <b>Equal Split Mode:</b> Total amount will be divided among all participants equally.
            </div>
        </div>

        <!-- Two Columns -->
        <div class="grid">

            <!-- Participants -->
            <div class="card">
                <h2 class="section-title">üë§ Participants</h2>

                {% if participants and participants|length > 0 %}
                    <ul class="list">
                        {% for p in participants %}
                            <li class="item">
                                <b>{{ p.name }}</b><br>
                                {% if p.email %}
                                    <span class="muted">{{ p.email }}</span>
                                {% else %}
                                    <span class="muted">No email</span>
                                {% endif %}
                            </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p class="muted">No participants yet. Click ‚ÄúAdd Participant‚Äù.</p>
                {% endif %}
            </div>

            <!-- Expenses -->
            <div class="card">
                <h2 class="section-title">üí≥ Expenses & Split</h2>

                {% if expenses and expenses|length > 0 %}
                    <ul class="list">
                        {% for e in expenses %}
                            <li class="item">
                                <div class="expense-row">
                                    <div>
                                        <b>{{ e.title }}</b><br>
                                        <span class="muted">Paid by: {{ e.paid_by }}</span>
                                    </div>
                                    <div class="amount">
                                        Rs {{ "%.2f"|format(e.amount) }}
                                    </div>
                                </div>

                                <hr style="border:none;border-top:1px solid #eee; margin:10px 0;">

                                <div class="muted">
                                    Each person should pay: <b>Rs {{ "%.2f"|format(split_amount) }}</b>
                                </div>
                            </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p class="muted">No expenses yet. Click ‚ÄúAdd Expense‚Äù.</p>
                {% endif %}
            </div>

        </div>

    </div>
</div>
</body>
</html>
